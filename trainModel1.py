# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'trainModelupdated.ui'
#
# Created by: PyQt5 UI code generator 5.15.2
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
from test import Ui_TestWindow
import time


class Ui_MainWindow(object):
#some variables
        def openWindow(self):
                self.window = QtWidgets.QMainWindow()
                self.ui = Ui_TestWindow()
                self.ui.setupUi(self.window)
                self.window.show()
        crew = 2            #crew is 2, the driver and engineer
        passenger = 0       #initializes at zero
        mass = 40.9         #in tons
        power = 50000           #initially zero
        velocity = 0        #initially zero since not moving
        acceleration = 0    #initially zero
        authority = 0
        doors = 0
        internal = 0
        external = 0
        maxSpeed = 43.5
        speed_limit = 0
        commanded = 0
        beaconText = "NOT IN SERVICE"
        temperature = 68
        T = 10
        service = 0
        #below are the three boolean failure modes
        engineFailure = 0
        brakeFailure = 0
        signalFailure = 0

        def setupUi(self, MainWindow):
                MainWindow.setObjectName("MainWindow")
                MainWindow.resize(820, 562)
                MainWindow.setDocumentMode(True)
                self.centralwidget = QtWidgets.QWidget(MainWindow)
                self.centralwidget.setObjectName("centralwidget")
                self.eBrake = QtWidgets.QPushButton(self.centralwidget)
                self.eBrake.setGeometry(QtCore.QRect(30, 370, 231, 81))
                font = QtGui.QFont()
                font.setPointSize(13)
                font.setBold(True)
                font.setWeight(75)
                self.eBrake.setFont(font)
                self.eBrake.setStyleSheet("background-color: rgb(255, 0, 0);")
                self.eBrake.setObjectName("eBrake")
                self.groupBox_2 = QtWidgets.QGroupBox(self.centralwidget)
                self.groupBox_2.setGeometry(QtCore.QRect(280, 80, 211, 271))
                self.groupBox_2.setObjectName("groupBox_2")
                self.engineChoice = QtWidgets.QComboBox(self.groupBox_2)
                self.engineChoice.setGeometry(QtCore.QRect(10, 30, 69, 22))
                self.engineChoice.setObjectName("engineChoice")
                self.engineChoice.addItem("")
                self.engineChoice.addItem("")
                self.engineChoice.addItem("")
                self.engineChoice.addItem("")
                self.engineChoice.addItem("")
                self.engineChoice.addItem("")
                self.engineChoice.addItem("")
                self.engineFailure = QtWidgets.QPushButton(self.groupBox_2)
                self.engineFailure.setGeometry(QtCore.QRect(90, 20, 111, 41))
                self.engineFailure.setStyleSheet("background-color: rgb(180, 180, 180);")
                self.engineFailure.setObjectName("engineFailure")
                self.signalFailure = QtWidgets.QPushButton(self.groupBox_2)
                self.signalFailure.setGeometry(QtCore.QRect(10, 70, 191, 41))
                self.signalFailure.setStyleSheet("background-color: rgb(180, 180, 180);")
                self.signalFailure.setObjectName("signalFailure")
                self.brakeFailure = QtWidgets.QPushButton(self.groupBox_2)
                self.brakeFailure.setGeometry(QtCore.QRect(10, 120, 191, 41))
                self.brakeFailure.setStyleSheet("background-color: rgb(180, 180, 180);")
                self.brakeFailure.setObjectName("brakeFailure")
                self.failureOutput = QtWidgets.QLabel(self.groupBox_2)
                self.failureOutput.setGeometry(QtCore.QRect(10, 180, 191, 31))
                font = QtGui.QFont()
                font.setPointSize(10)
                self.failureOutput.setFont(font)
                self.failureOutput.setStyleSheet("background-color: rgb(255, 255, 255);\n"
                        "border-color: rgb(195, 0, 0);")
                self.failureOutput.setFrameShape(QtWidgets.QFrame.Box)
                self.failureOutput.setLineWidth(2)
                self.failureOutput.setObjectName("failureOutput")
                self.failureFixed = QtWidgets.QPushButton(self.groupBox_2)
                self.failureFixed.setGeometry(QtCore.QRect(100, 230, 91, 31))
                self.failureFixed.setStyleSheet("background-color: rgb(141, 141, 141);\n"
                        "color: rgb(0,0,0);")
                self.failureFixed.setObjectName("failureFixed")
                self.groupBox = QtWidgets.QGroupBox(self.centralwidget)
                self.groupBox.setGeometry(QtCore.QRect(20, 80, 241, 271))
                self.groupBox.setObjectName("groupBox")
                self.currSpeed = QtWidgets.QLCDNumber(self.groupBox)
                self.currSpeed.setGeometry(QtCore.QRect(10, 20, 211, 41))
                self.currSpeed.setObjectName("currSpeed")
                self.speedLimit = QtWidgets.QLCDNumber(self.groupBox)
                self.speedLimit.setGeometry(QtCore.QRect(10, 70, 211, 41))
                self.speedLimit.setObjectName("speedLimit")
                self.commSpeed = QtWidgets.QLCDNumber(self.groupBox)
                self.commSpeed.setGeometry(QtCore.QRect(10, 120, 211, 41))
                self.commSpeed.setObjectName("commSpeed")
                self.accelerationLimit = QtWidgets.QLCDNumber(self.groupBox)
                self.accelerationLimit.setGeometry(QtCore.QRect(10, 170, 211, 41))
                self.accelerationLimit.setObjectName("accelerationLimit")
                self.decelerationLimit = QtWidgets.QLCDNumber(self.groupBox)
                self.decelerationLimit.setGeometry(QtCore.QRect(10, 220, 211, 41))
                self.decelerationLimit.setObjectName("decelerationLimit")
                self.label_2 = QtWidgets.QLabel(self.groupBox)
                self.label_2.setGeometry(QtCore.QRect(20, 30, 81, 21))
                self.label_2.setObjectName("label_2")
                self.label_3 = QtWidgets.QLabel(self.groupBox)
                self.label_3.setGeometry(QtCore.QRect(20, 80, 71, 21))
                self.label_3.setObjectName("label_3")
                self.label_4 = QtWidgets.QLabel(self.groupBox)
                self.label_4.setGeometry(QtCore.QRect(20, 132, 101, 21))
                self.label_4.setObjectName("label_4")
                self.label_5 = QtWidgets.QLabel(self.groupBox)
                self.label_5.setGeometry(QtCore.QRect(20, 180, 91, 21))
                self.label_5.setObjectName("label_5")
                self.label_6 = QtWidgets.QLabel(self.groupBox)
                self.label_6.setGeometry(QtCore.QRect(20, 232, 91, 21))
                self.label_6.setObjectName("label_6")
                self.label_23 = QtWidgets.QLabel(self.groupBox)
                self.label_23.setGeometry(QtCore.QRect(170, 30, 47, 21))
                self.label_23.setObjectName("label_23")
                self.label_24 = QtWidgets.QLabel(self.groupBox)
                self.label_24.setGeometry(QtCore.QRect(170, 80, 47, 21))
                self.label_24.setObjectName("label_24")
                self.label_25 = QtWidgets.QLabel(self.groupBox)
                self.label_25.setGeometry(QtCore.QRect(170, 130, 47, 21))
                self.label_25.setObjectName("label_25")
                self.label_26 = QtWidgets.QLabel(self.groupBox)
                self.label_26.setGeometry(QtCore.QRect(170, 180, 47, 21))
                self.label_26.setObjectName("label_26")
                self.label_27 = QtWidgets.QLabel(self.groupBox)
                self.label_27.setGeometry(QtCore.QRect(170, 230, 47, 21))
                self.label_27.setObjectName("label_27")
                self.groupBox_4 = QtWidgets.QGroupBox(self.centralwidget)
                self.groupBox_4.setGeometry(QtCore.QRect(280, 360, 211, 141))
                self.groupBox_4.setObjectName("groupBox_4")
                self.label_28 = QtWidgets.QLabel(self.groupBox_4)
                self.label_28.setGeometry(QtCore.QRect(10, 20, 47, 13))
                self.label_28.setObjectName("label_28")
                self.beacon = QtWidgets.QLabel(self.groupBox_4)
                self.beacon.setGeometry(QtCore.QRect(10, 40, 191, 21))
                self.beacon.setStyleSheet("background-color: rgb(255, 255, 255);\n"
                        "background-color: rgb(243, 0, 0);")
                self.beacon.setFrameShape(QtWidgets.QFrame.Box)
                self.beacon.setObjectName("beacon")
                self.label_30 = QtWidgets.QLabel(self.groupBox_4)
                self.label_30.setGeometry(QtCore.QRect(10, 70, 121, 16))
                self.label_30.setObjectName("label_30")
                self.lineColor = QtWidgets.QLabel(self.groupBox_4)
                self.lineColor.setGeometry(QtCore.QRect(10, 90, 191, 41))
                self.lineColor.setLayoutDirection(QtCore.Qt.LeftToRight)
                self.lineColor.setStyleSheet("background-color: rgb(255, 255, 255);")
                self.lineColor.setFrameShape(QtWidgets.QFrame.Box)
                self.lineColor.setText("")
                self.lineColor.setObjectName("lineColor")
                self.groupBox_5 = QtWidgets.QGroupBox(self.centralwidget)
                self.groupBox_5.setGeometry(QtCore.QRect(510, 360, 261, 141))
                self.groupBox_5.setObjectName("groupBox_5")
                self.label_32 = QtWidgets.QLabel(self.groupBox_5)
                self.label_32.setGeometry(QtCore.QRect(10, 20, 61, 16))
                font = QtGui.QFont()
                font.setPointSize(9)
                self.label_32.setFont(font)
                self.label_32.setObjectName("label_32")
                self.label_33 = QtWidgets.QLabel(self.groupBox_5)
                self.label_33.setGeometry(QtCore.QRect(10, 40, 51, 16))
                font = QtGui.QFont()
                font.setPointSize(9)
                self.label_33.setFont(font)
                self.label_33.setObjectName("label_33")
                self.label_34 = QtWidgets.QLabel(self.groupBox_5)
                self.label_34.setGeometry(QtCore.QRect(10, 60, 51, 16))
                font = QtGui.QFont()
                font.setPointSize(9)
                self.label_34.setFont(font)
                self.label_34.setObjectName("label_34")
                self.label_38 = QtWidgets.QLabel(self.groupBox_5)
                self.label_38.setGeometry(QtCore.QRect(10, 80, 51, 16))
                font = QtGui.QFont()
                font.setPointSize(9)
                self.label_38.setFont(font)
                self.label_38.setObjectName("label_38")
                self.label_39 = QtWidgets.QLabel(self.groupBox_5)
                self.label_39.setGeometry(QtCore.QRect(10, 100, 51, 16))
                font = QtGui.QFont()
                font.setPointSize(9)
                self.label_39.setFont(font)
                self.label_39.setObjectName("label_39")
                self.label_40 = QtWidgets.QLabel(self.groupBox_5)
                self.label_40.setGeometry(QtCore.QRect(10, 120, 61, 16))
                font = QtGui.QFont()
                font.setPointSize(9)
                self.label_40.setFont(font)
                self.label_40.setObjectName("label_40")
                self.authorityOutput = QtWidgets.QLabel(self.groupBox_5)
                self.authorityOutput.setGeometry(QtCore.QRect(80, 20, 47, 16))
                self.authorityOutput.setObjectName("authorityOutput")
                self.powerOutput = QtWidgets.QLabel(self.groupBox_5)
                self.powerOutput.setGeometry(QtCore.QRect(80, 40, 47, 16))
                self.powerOutput.setObjectName("powerOutput")
                self.lengthOutput = QtWidgets.QLabel(self.groupBox_5)
                self.lengthOutput.setGeometry(QtCore.QRect(80, 60, 101, 16))
                self.lengthOutput.setObjectName("lengthOutput")
                self.heightOutput = QtWidgets.QLabel(self.groupBox_5)
                self.heightOutput.setGeometry(QtCore.QRect(80, 80, 91, 16))
                self.heightOutput.setObjectName("heightOutput")
                self.widthOutput = QtWidgets.QLabel(self.groupBox_5)
                self.widthOutput.setGeometry(QtCore.QRect(80, 100, 81, 16))
                self.widthOutput.setObjectName("widthOutput")
                self.masOutput = QtWidgets.QLabel(self.groupBox_5)
                self.masOutput.setGeometry(QtCore.QRect(80, 120, 41, 16))
                self.masOutput.setObjectName("masOutput")
                self.authorityOutput_2 = QtWidgets.QLabel(self.groupBox_5)
                self.authorityOutput_2.setGeometry(QtCore.QRect(120, 20, 47, 16))
                self.authorityOutput_2.setObjectName("authorityOutput_2")
                self.powerOutput_2 = QtWidgets.QLabel(self.groupBox_5)
                self.powerOutput_2.setGeometry(QtCore.QRect(120, 40, 47, 16))
                self.powerOutput_2.setObjectName("powerOutput_2")
                self.masOutput_2 = QtWidgets.QLabel(self.groupBox_5)
                self.masOutput_2.setGeometry(QtCore.QRect(120, 120, 41, 16))
                self.masOutput_2.setObjectName("masOutput_2")

        #car tab info
        #car1
                self.CarInfo = QtWidgets.QTabWidget(self.centralwidget)
                self.CarInfo.setGeometry(QtCore.QRect(510, 70, 261, 281))
                self.CarInfo.setObjectName("CarInfo")
                self.Car1 = QtWidgets.QWidget()
                self.Car1.setObjectName("Car1")
                self.passengerCount = QtWidgets.QLCDNumber(self.Car1)
                self.passengerCount.setGeometry(QtCore.QRect(30, 210, 211, 41))
                self.passengerCount.setObjectName("passengerCount")
                self.crewCount = QtWidgets.QLCDNumber(self.Car1)
                self.crewCount.setGeometry(QtCore.QRect(30, 160, 211, 41))
                self.crewCount.setObjectName("crewCount")
                self.currTemp = QtWidgets.QLCDNumber(self.Car1)
                self.currTemp.setGeometry(QtCore.QRect(30, 110, 101, 41))
                self.currTemp.setObjectName("currTemp")
                self.setTemp = QtWidgets.QSpinBox(self.Car1)
                self.setTemp.setGeometry(QtCore.QRect(190, 110, 51, 41))
                font = QtGui.QFont()
                font.setPointSize(22)
                self.setTemp.setFont(font)
                self.setTemp.setMinimum(60)
                self.setTemp.setProperty("value", 68)
                self.setTemp.setObjectName("setTemp")
                self.label_16 = QtWidgets.QLabel(self.Car1)
                self.label_16.setGeometry(QtCore.QRect(100, 80, 91, 21))
                font = QtGui.QFont()
                font.setPointSize(9)
                font.setBold(True)
                font.setWeight(75)
                self.label_16.setFont(font)
                self.label_16.setObjectName("label_16")
                self.label_8 = QtWidgets.QLabel(self.Car1)
                self.label_8.setGeometry(QtCore.QRect(80, 10, 47, 21))
                font = QtGui.QFont()
                font.setPointSize(9)
                font.setBold(True)
                font.setWeight(75)
                self.label_8.setFont(font)
                self.label_8.setObjectName("label_8")
                self.label_13 = QtWidgets.QLabel(self.Car1)
                self.label_13.setGeometry(QtCore.QRect(20, 30, 111, 21))
                font = QtGui.QFont()
                font.setPointSize(9)
                font.setBold(True)
                font.setWeight(75)
                self.label_13.setFont(font)
                self.label_13.setObjectName("label_13")
                self.label_17 = QtWidgets.QLabel(self.Car1)
                self.label_17.setGeometry(QtCore.QRect(40, 50, 91, 21))
                font = QtGui.QFont()
                font.setPointSize(9)
                font.setBold(True)
                font.setWeight(75)
                self.label_17.setFont(font)
                self.label_17.setObjectName("label_17")
                self.label_22 = QtWidgets.QLabel(self.Car1)
                self.label_22.setGeometry(QtCore.QRect(50, 220, 91, 21))
                self.label_22.setObjectName("label_22")
                self.label_21 = QtWidgets.QLabel(self.Car1)
                self.label_21.setGeometry(QtCore.QRect(50, 170, 71, 21))
                self.label_21.setObjectName("label_21")
                self.label_18 = QtWidgets.QLabel(self.Car1)
                self.label_18.setGeometry(QtCore.QRect(40, 120, 47, 21))
                self.label_18.setObjectName("label_18")
                self.label_20 = QtWidgets.QLabel(self.Car1)
                self.label_20.setGeometry(QtCore.QRect(130, 120, 21, 21))
                font = QtGui.QFont()
                font.setBold(True)
                font.setWeight(75)
                self.label_20.setFont(font)
                self.label_20.setObjectName("label_20")
                self.label_19 = QtWidgets.QLabel(self.Car1)
                self.label_19.setGeometry(QtCore.QRect(160, 120, 31, 16))
                self.label_19.setObjectName("label_19")
                self.rightDoors = QtWidgets.QLabel(self.Car1)
                self.rightDoors.setGeometry(QtCore.QRect(150, 10, 41, 21))
                self.rightDoors.setStyleSheet("background-color: rgb(234, 234, 234);")
                self.rightDoors.setObjectName("rightDoors")
                self.tunnelLights = QtWidgets.QLabel(self.Car1)
                self.tunnelLights.setGeometry(QtCore.QRect(150, 30, 21, 21))
                self.tunnelLights.setStyleSheet("background-color: rgb(234, 234, 234);")
                self.tunnelLights.setObjectName("tunnelLights")
                self.internalLights = QtWidgets.QLabel(self.Car1)
                self.internalLights.setGeometry(QtCore.QRect(150, 50, 31, 21))
                self.internalLights.setStyleSheet("background-color: rgb(234, 234, 234);")
                self.internalLights.setObjectName("internalLights")
        #car 2
                self.CarInfo.addTab(self.Car1, "")
                self.Car2 = QtWidgets.QWidget()
                self.Car2.setObjectName("Car2")
                self.CarInfo.addTab(self.Car2, "")
                self.passengerCount2 = QtWidgets.QLCDNumber(self.Car2)
                self.passengerCount2.setGeometry(QtCore.QRect(30, 210, 211, 41))
                self.passengerCount2.setObjectName("passengerCount")
                self.crewCount2 = QtWidgets.QLCDNumber(self.Car2)
                self.crewCount2.setGeometry(QtCore.QRect(30, 160, 211, 41))
                self.crewCount2.setObjectName("crewCount")
                self.currTemp2 = QtWidgets.QLCDNumber(self.Car2)
                self.currTemp2.setGeometry(QtCore.QRect(30, 110, 101, 41))
                self.currTemp2.setObjectName("currTemp")
                self.setTemp2 = QtWidgets.QSpinBox(self.Car2)
                self.setTemp2.setGeometry(QtCore.QRect(190, 110, 51, 41))
                font = QtGui.QFont()
                font.setPointSize(22)
                self.setTemp2.setFont(font)
                self.setTemp2.setMinimum(60)
                self.setTemp2.setProperty("value", 68)
                self.setTemp2.setObjectName("setTemp")
                self.label2_16 = QtWidgets.QLabel(self.Car2)
                self.label2_16.setGeometry(QtCore.QRect(100, 80, 91, 21))
                font = QtGui.QFont()
                font.setPointSize(9)
                font.setBold(True)
                font.setWeight(75)
                self.label2_16.setFont(font)
                self.label2_16.setObjectName("label_16")
                self.label2_8 = QtWidgets.QLabel(self.Car2)
                self.label2_8.setGeometry(QtCore.QRect(80, 10, 47, 21))
                font = QtGui.QFont()
                font.setPointSize(9)
                font.setBold(True)
                font.setWeight(75)
                self.label2_8.setFont(font)
                self.label2_8.setObjectName("label_8")
                self.label2_13 = QtWidgets.QLabel(self.Car2)
                self.label2_13.setGeometry(QtCore.QRect(20, 30, 111, 21))
                font = QtGui.QFont()
                font.setPointSize(9)
                font.setBold(True)
                font.setWeight(75)
                self.label2_13.setFont(font)
                self.label2_13.setObjectName("label_13")
                self.label2_17 = QtWidgets.QLabel(self.Car2)
                self.label2_17.setGeometry(QtCore.QRect(40, 50, 91, 21))
                font = QtGui.QFont()
                font.setPointSize(9)
                font.setBold(True)
                font.setWeight(75)
                self.label2_17.setFont(font)
                self.label2_17.setObjectName("label_17")
                self.label2_22 = QtWidgets.QLabel(self.Car2)
                self.label2_22.setGeometry(QtCore.QRect(50, 220, 91, 21))
                self.label2_22.setObjectName("label_22")
                self.label2_21 = QtWidgets.QLabel(self.Car2)
                self.label2_21.setGeometry(QtCore.QRect(50, 170, 71, 21))
                self.label2_21.setObjectName("label_21")
                self.label2_18 = QtWidgets.QLabel(self.Car2)
                self.label2_18.setGeometry(QtCore.QRect(40, 120, 47, 21))
                self.label2_18.setObjectName("label_18")
                self.label2_20 = QtWidgets.QLabel(self.Car2)
                self.label2_20.setGeometry(QtCore.QRect(130, 120, 21, 21))
                font = QtGui.QFont()
                font.setBold(True)
                font.setWeight(75)
                self.label2_20.setFont(font)
                self.label2_20.setObjectName("label_20")
                self.label2_19 = QtWidgets.QLabel(self.Car2)
                self.label2_19.setGeometry(QtCore.QRect(160, 120, 31, 16))
                self.label2_19.setObjectName("label_19")
                self.rightDoors2 = QtWidgets.QLabel(self.Car2)
                self.rightDoors2.setGeometry(QtCore.QRect(150, 10, 41, 21))
                self.rightDoors2.setStyleSheet("background-color: rgb(234, 234, 234);")
                self.rightDoors2.setObjectName("rightDoors")
                self.tunnelLights2 = QtWidgets.QLabel(self.Car2)
                self.tunnelLights2.setGeometry(QtCore.QRect(150, 30, 21, 21))
                self.tunnelLights2.setStyleSheet("background-color: rgb(234, 234, 234);")
                self.tunnelLights2.setObjectName("tunnelLights")
                self.internalLights2 = QtWidgets.QLabel(self.Car2)
                self.internalLights2.setGeometry(QtCore.QRect(150, 50, 31, 21))
                self.internalLights2.setStyleSheet("background-color: rgb(234, 234, 234);")
                self.internalLights2.setObjectName("internalLights")
        #car3
                self.Car3 = QtWidgets.QWidget()
                self.Car3.setObjectName("Car3")
                self.CarInfo.addTab(self.Car3, "")
                self.passengerCount3 = QtWidgets.QLCDNumber(self.Car3)
                self.passengerCount3.setGeometry(QtCore.QRect(30, 210, 211, 41))
                self.passengerCount3.setObjectName("passengerCount")
                self.crewCount3 = QtWidgets.QLCDNumber(self.Car3)
                self.crewCount3.setGeometry(QtCore.QRect(30, 160, 211, 41))
                self.crewCount3.setObjectName("crewCount")
                self.currTemp3 = QtWidgets.QLCDNumber(self.Car3)
                self.currTemp3.setGeometry(QtCore.QRect(30, 110, 101, 41))
                self.currTemp3.setObjectName("currTemp")
                self.setTemp3 = QtWidgets.QSpinBox(self.Car3)
                self.setTemp3.setGeometry(QtCore.QRect(190, 110, 51, 41))
                font = QtGui.QFont()
                font.setPointSize(22)
                self.setTemp3.setFont(font)
                self.setTemp3.setMinimum(60)
                self.setTemp3.setProperty("value", 68)
                self.setTemp3.setObjectName("setTemp")
                self.label3_16 = QtWidgets.QLabel(self.Car3)
                self.label3_16.setGeometry(QtCore.QRect(100, 80, 91, 21))
                font = QtGui.QFont()
                font.setPointSize(9)
                font.setBold(True)
                font.setWeight(75)
                self.label3_16.setFont(font)
                self.label3_16.setObjectName("label_16")
                self.label3_8 = QtWidgets.QLabel(self.Car3)
                self.label3_8.setGeometry(QtCore.QRect(80, 10, 47, 21))
                font = QtGui.QFont()
                font.setPointSize(9)
                font.setBold(True)
                font.setWeight(75)
                self.label3_8.setFont(font)
                self.label3_8.setObjectName("label_8")
                self.label3_13 = QtWidgets.QLabel(self.Car3)
                self.label3_13.setGeometry(QtCore.QRect(20, 30, 111, 21))
                font = QtGui.QFont()
                font.setPointSize(9)
                font.setBold(True)
                font.setWeight(75)
                self.label3_13.setFont(font)
                self.label3_13.setObjectName("label_13")
                self.label3_17 = QtWidgets.QLabel(self.Car3)
                self.label3_17.setGeometry(QtCore.QRect(40, 50, 91, 21))
                font = QtGui.QFont()
                font.setPointSize(9)
                font.setBold(True)
                font.setWeight(75)
                self.label3_17.setFont(font)
                self.label3_17.setObjectName("label_17")
                self.label3_22 = QtWidgets.QLabel(self.Car3)
                self.label3_22.setGeometry(QtCore.QRect(50, 220, 91, 21))
                self.label3_22.setObjectName("label_22")
                self.label3_21 = QtWidgets.QLabel(self.Car3)
                self.label3_21.setGeometry(QtCore.QRect(50, 170, 71, 21))
                self.label3_21.setObjectName("label_21")
                self.label3_18 = QtWidgets.QLabel(self.Car3)
                self.label3_18.setGeometry(QtCore.QRect(40, 120, 47, 21))
                self.label3_18.setObjectName("label_18")
                self.label3_20 = QtWidgets.QLabel(self.Car3)
                self.label3_20.setGeometry(QtCore.QRect(130, 120, 21, 21))
                font = QtGui.QFont()
                font.setBold(True)
                font.setWeight(75)
                self.label3_20.setFont(font)
                self.label3_20.setObjectName("label_20")
                self.label3_19 = QtWidgets.QLabel(self.Car3)
                self.label3_19.setGeometry(QtCore.QRect(160, 120, 31, 16))
                self.label3_19.setObjectName("label_19")
                self.rightDoors3 = QtWidgets.QLabel(self.Car3)
                self.rightDoors3.setGeometry(QtCore.QRect(150, 10, 41, 21))
                self.rightDoors3.setStyleSheet("background-color: rgb(234, 234, 234);")
                self.rightDoors3.setObjectName("rightDoors")
                self.tunnelLights3 = QtWidgets.QLabel(self.Car3)
                self.tunnelLights3.setGeometry(QtCore.QRect(150, 30, 21, 21))
                self.tunnelLights3.setStyleSheet("background-color: rgb(234, 234, 234);")
                self.tunnelLights3.setObjectName("tunnelLights")
                self.internalLights3 = QtWidgets.QLabel(self.Car3)
                self.internalLights3.setGeometry(QtCore.QRect(150, 50, 31, 21))
                self.internalLights3.setStyleSheet("background-color: rgb(234, 234, 234);")
                self.internalLights3.setObjectName("internalLights")
        #car4
                self.Car4 = QtWidgets.QWidget()
                self.Car4.setObjectName("Car4")
                self.CarInfo.addTab(self.Car4, "")
                self.passengerCount4 = QtWidgets.QLCDNumber(self.Car4)
                self.passengerCount4.setGeometry(QtCore.QRect(30, 210, 211, 41))
                self.passengerCount4.setObjectName("passengerCount")
                self.crewCount4 = QtWidgets.QLCDNumber(self.Car4)
                self.crewCount4.setGeometry(QtCore.QRect(30, 160, 211, 41))
                self.crewCount4.setObjectName("crewCount")
                self.currTemp4 = QtWidgets.QLCDNumber(self.Car4)
                self.currTemp4.setGeometry(QtCore.QRect(30, 110, 101, 41))
                self.currTemp4.setObjectName("currTemp")
                self.setTemp4 = QtWidgets.QSpinBox(self.Car4)
                self.setTemp4.setGeometry(QtCore.QRect(190, 110, 51, 41))
                font = QtGui.QFont()
                font.setPointSize(22)
                self.setTemp4.setFont(font)
                self.setTemp4.setMinimum(60)
                self.setTemp4.setProperty("value", 68)
                self.setTemp4.setObjectName("setTemp")
                self.label4_16 = QtWidgets.QLabel(self.Car4)
                self.label4_16.setGeometry(QtCore.QRect(100, 80, 91, 21))
                font = QtGui.QFont()
                font.setPointSize(9)
                font.setBold(True)
                font.setWeight(75)
                self.label4_16.setFont(font)
                self.label4_16.setObjectName("label_16")
                self.label4_8 = QtWidgets.QLabel(self.Car4)
                self.label4_8.setGeometry(QtCore.QRect(80, 10, 47, 21))
                font = QtGui.QFont()
                font.setPointSize(9)
                font.setBold(True)
                font.setWeight(75)
                self.label4_8.setFont(font)
                self.label4_8.setObjectName("label_8")
                self.label4_13 = QtWidgets.QLabel(self.Car4)
                self.label4_13.setGeometry(QtCore.QRect(20, 30, 111, 21))
                font = QtGui.QFont()
                font.setPointSize(9)
                font.setBold(True)
                font.setWeight(75)
                self.label4_13.setFont(font)
                self.label4_13.setObjectName("label_13")
                self.label4_17 = QtWidgets.QLabel(self.Car4)
                self.label4_17.setGeometry(QtCore.QRect(40, 50, 91, 21))
                font = QtGui.QFont()
                font.setPointSize(9)
                font.setBold(True)
                font.setWeight(75)
                self.label4_17.setFont(font)
                self.label4_17.setObjectName("label_17")
                self.label4_22 = QtWidgets.QLabel(self.Car4)
                self.label4_22.setGeometry(QtCore.QRect(50, 220, 91, 21))
                self.label4_22.setObjectName("label_22")
                self.label4_21 = QtWidgets.QLabel(self.Car4)
                self.label4_21.setGeometry(QtCore.QRect(50, 170, 71, 21))
                self.label4_21.setObjectName("label_21")
                self.label4_18 = QtWidgets.QLabel(self.Car4)
                self.label4_18.setGeometry(QtCore.QRect(40, 120, 47, 21))
                self.label4_18.setObjectName("label_18")
                self.label4_20 = QtWidgets.QLabel(self.Car4)
                self.label4_20.setGeometry(QtCore.QRect(130, 120, 21, 21))
                font = QtGui.QFont()
                font.setBold(True)
                font.setWeight(75)
                self.label4_20.setFont(font)
                self.label4_20.setObjectName("label_20")
                self.label4_19 = QtWidgets.QLabel(self.Car4)
                self.label4_19.setGeometry(QtCore.QRect(160, 120, 31, 16))
                self.label4_19.setObjectName("label_19")
                self.rightDoors4 = QtWidgets.QLabel(self.Car4)
                self.rightDoors4.setGeometry(QtCore.QRect(150, 10, 41, 21))
                self.rightDoors4.setStyleSheet("background-color: rgb(234, 234, 234);")
                self.rightDoors4.setObjectName("rightDoors")
                self.tunnelLights4 = QtWidgets.QLabel(self.Car4)
                self.tunnelLights4.setGeometry(QtCore.QRect(150, 30, 21, 21))
                self.tunnelLights4.setStyleSheet("background-color: rgb(234, 234, 234);")
                self.tunnelLights4.setObjectName("tunnelLights")
                self.internalLights4 = QtWidgets.QLabel(self.Car4)
                self.internalLights4.setGeometry(QtCore.QRect(150, 50, 31, 21))
                self.internalLights4.setStyleSheet("background-color: rgb(234, 234, 234);")
                self.internalLights4.setObjectName("internalLights")
        #car5
                self.Car5 = QtWidgets.QWidget()
                self.Car5.setObjectName("Car5")
                self.CarInfo.addTab(self.Car5, "")
                self.passengerCount5 = QtWidgets.QLCDNumber(self.Car5)
                self.passengerCount5.setGeometry(QtCore.QRect(30, 210, 211, 41))
                self.passengerCount5.setObjectName("passengerCount")
                self.crewCount5 = QtWidgets.QLCDNumber(self.Car5)
                self.crewCount5.setGeometry(QtCore.QRect(30, 160, 211, 41))
                self.crewCount5.setObjectName("crewCount")
                self.currTemp5 = QtWidgets.QLCDNumber(self.Car5)
                self.currTemp5.setGeometry(QtCore.QRect(30, 110, 101, 41))
                self.currTemp5.setObjectName("currTemp")
                self.setTemp5 = QtWidgets.QSpinBox(self.Car5)
                self.setTemp5.setGeometry(QtCore.QRect(190, 110, 51, 41))
                font = QtGui.QFont()
                font.setPointSize(22)
                self.setTemp5.setFont(font)
                self.setTemp5.setMinimum(60)
                self.setTemp5.setProperty("value", 68)
                self.setTemp5.setObjectName("setTemp")
                self.label5_16 = QtWidgets.QLabel(self.Car5)
                self.label5_16.setGeometry(QtCore.QRect(100, 80, 91, 21))
                font = QtGui.QFont()
                font.setPointSize(9)
                font.setBold(True)
                font.setWeight(75)
                self.label5_16.setFont(font)
                self.label5_16.setObjectName("label_16")
                self.label5_8 = QtWidgets.QLabel(self.Car5)
                self.label5_8.setGeometry(QtCore.QRect(80, 10, 47, 21))
                font = QtGui.QFont()
                font.setPointSize(9)
                font.setBold(True)
                font.setWeight(75)
                self.label5_8.setFont(font)
                self.label5_8.setObjectName("label_8")
                self.label5_13 = QtWidgets.QLabel(self.Car5)
                self.label5_13.setGeometry(QtCore.QRect(20, 30, 111, 21))
                font = QtGui.QFont()
                font.setPointSize(9)
                font.setBold(True)
                font.setWeight(75)
                self.label5_13.setFont(font)
                self.label5_13.setObjectName("label_13")
                self.label5_17 = QtWidgets.QLabel(self.Car5)
                self.label5_17.setGeometry(QtCore.QRect(40, 50, 91, 21))
                font = QtGui.QFont()
                font.setPointSize(9)
                font.setBold(True)
                font.setWeight(75)
                self.label5_17.setFont(font)
                self.label5_17.setObjectName("label_17")
                self.label5_22 = QtWidgets.QLabel(self.Car5)
                self.label5_22.setGeometry(QtCore.QRect(50, 220, 91, 21))
                self.label5_22.setObjectName("label_22")
                self.label5_21 = QtWidgets.QLabel(self.Car5)
                self.label5_21.setGeometry(QtCore.QRect(50, 170, 71, 21))
                self.label5_21.setObjectName("label_21")
                self.label5_18 = QtWidgets.QLabel(self.Car5)
                self.label5_18.setGeometry(QtCore.QRect(40, 120, 47, 21))
                self.label5_18.setObjectName("label_18")
                self.label5_20 = QtWidgets.QLabel(self.Car5)
                self.label5_20.setGeometry(QtCore.QRect(130, 120, 21, 21))
                font = QtGui.QFont()
                font.setBold(True)
                font.setWeight(75)
                self.label5_20.setFont(font)
                self.label5_20.setObjectName("label_20")
                self.label5_19 = QtWidgets.QLabel(self.Car5)
                self.label5_19.setGeometry(QtCore.QRect(160, 120, 31, 16))
                self.label5_19.setObjectName("label_19")
                self.rightDoors5 = QtWidgets.QLabel(self.Car5)
                self.rightDoors5.setGeometry(QtCore.QRect(150, 10, 41, 21))
                self.rightDoors5.setStyleSheet("background-color: rgb(234, 234, 234);")
                self.rightDoors5.setObjectName("rightDoors")
                self.tunnelLights5 = QtWidgets.QLabel(self.Car5)
                self.tunnelLights5.setGeometry(QtCore.QRect(150, 30, 21, 21))
                self.tunnelLights5.setStyleSheet("background-color: rgb(234, 234, 234);")
                self.tunnelLights5.setObjectName("tunnelLights")
                self.internalLights5 = QtWidgets.QLabel(self.Car5)
                self.internalLights5.setGeometry(QtCore.QRect(150, 50, 31, 21))
                self.internalLights5.setStyleSheet("background-color: rgb(234, 234, 234);")
                self.internalLights5.setObjectName("internalLights")

        #other
                self.comboBox = QtWidgets.QComboBox(self.centralwidget)
                self.comboBox.setGeometry(QtCore.QRect(30, 10, 69, 22))
                self.comboBox.setObjectName("comboBox")
                self.comboBox.addItem("")
                self.comboBox.addItem("")
                self.comboBox.addItem("")
                self.comboBox.addItem("")
                self.comboBox.addItem("")
                self.comboBox.addItem("")
                self.comboBox.addItem("")
                self.comboBox.addItem("")
                self.comboBox.addItem("")
                self.comboBox.addItem("")
                self.comboBox.addItem("")
                self.comboBox.addItem("")
                self.comboBox.addItem("")
                self.comboBox.addItem("")
                self.comboBox.addItem("")
                self.comboBox.addItem("")
                MainWindow.setCentralWidget(self.centralwidget)
                self.statusbar = QtWidgets.QStatusBar(MainWindow)
                self.statusbar.setObjectName("statusbar")
                MainWindow.setStatusBar(self.statusbar)

                self.retranslateUi(MainWindow)
                self.CarInfo.setCurrentIndex(0)
                QtCore.QMetaObject.connectSlotsByName(MainWindow)

        def retranslateUi(self, MainWindow):
                _translate = QtCore.QCoreApplication.translate
                MainWindow.setWindowTitle(_translate("MainWindow", "MainWindow"))
                self.eBrake.setText(_translate("MainWindow", "EMERGENCY BRAKE"))
                self.groupBox_2.setTitle(_translate("MainWindow", "Failure Modes"))
                self.engineChoice.setItemText(0, _translate("MainWindow", "None"))
                self.engineChoice.setItemText(1, _translate("MainWindow", "Car 1"))
                self.engineChoice.setItemText(2, _translate("MainWindow", "Car 2"))
                self.engineChoice.setItemText(3, _translate("MainWindow", "Car 3"))
                self.engineChoice.setItemText(4, _translate("MainWindow", "Car 4"))
                self.engineChoice.setItemText(5, _translate("MainWindow", "Car 5"))
                self.engineChoice.setItemText(6, _translate("MainWindow", "All"))
                self.engineFailure.setText(_translate("MainWindow", "Train Engine Failure"))
                self.signalFailure.setText(_translate("MainWindow", "Signal Pickup Failure"))
                self.brakeFailure.setText(_translate("MainWindow", "Brake Failure"))
                self.failureOutput.setText(_translate("MainWindow", "No failures initiated"))
                self.failureFixed.setText(_translate("MainWindow", "Failure Fixed"))
                self.groupBox.setTitle(_translate("MainWindow", "Train Movement"))
                self.label_2.setText(_translate("MainWindow", "Current Speed:"))
                self.label_3.setText(_translate("MainWindow", "Speed Limit:"))
                self.label_4.setText(_translate("MainWindow", "Commanded Speed:"))
                self.label_5.setText(_translate("MainWindow", "Acceleration:"))
                self.label_6.setText(_translate("MainWindow", "Deceleration:"))
                self.label_23.setText(_translate("MainWindow", "MPH"))
                self.label_24.setText(_translate("MainWindow", "MPH"))
                self.label_25.setText(_translate("MainWindow", "MPH"))
                self.label_26.setText(_translate("MainWindow", "m/s^2"))
                self.label_27.setText(_translate("MainWindow", "m/s^2"))
                self.groupBox_4.setTitle(_translate("MainWindow", "Messages"))
                self.label_28.setText(_translate("MainWindow", "Beacon:"))
                self.beacon.setText(_translate("MainWindow", self.beaconText))
                self.label_30.setText(_translate("MainWindow", "Driver Announcements:"))
                self.groupBox_5.setTitle(_translate("MainWindow", "Parameters"))
                self.label_32.setText(_translate("MainWindow", "Authority:"))
                self.label_33.setText(_translate("MainWindow", "Power:"))
                self.label_34.setText(_translate("MainWindow", "Length:"))
                self.label_38.setText(_translate("MainWindow", "Height:"))
                self.label_39.setText(_translate("MainWindow", "Width:"))
                self.label_40.setText(_translate("MainWindow", "Mass:"))
                self.authorityOutput.setText(_translate("MainWindow", "0"))
                self.powerOutput.setText(_translate("MainWindow", "0"))
                self.lengthOutput.setText(_translate("MainWindow", "105.6    feet"))
                self.heightOutput.setText(_translate("MainWindow", "11.2      feet"))
                self.widthOutput.setText(_translate("MainWindow", "8.7        feet"))
                self.masOutput.setText(_translate("MainWindow", "40.9"))
                self.authorityOutput_2.setText(_translate("MainWindow", "miles"))
                self.powerOutput_2.setText(_translate("MainWindow", "watts"))
                self.masOutput_2.setText(_translate("MainWindow", "tons"))
                self.label_16.setText(_translate("MainWindow", "Temperature:"))
                self.label_8.setText(_translate("MainWindow", "Doors:"))
                self.label_13.setText(_translate("MainWindow", " Internal Lights:"))
                self.label_17.setText(_translate("MainWindow", "  Headlights:"))
                self.label_22.setText(_translate("MainWindow", "Passenger count:"))
                self.label_21.setText(_translate("MainWindow", "Crew count:"))
                self.label_18.setText(_translate("MainWindow", "Current:"))
                self.label_20.setText(_translate("MainWindow", " \N{DEGREE SIGN}F"))
                self.label_19.setText(_translate("MainWindow", "Set:"))
                self.rightDoors.setText(_translate("MainWindow", "Closed"))
                self.tunnelLights.setText(_translate("MainWindow", "Off"))
                self.internalLights.setText(_translate("MainWindow", "Off"))

                #car 2 labels
                self.label2_16.setText(_translate("MainWindow", "Temperature:"))
                self.label2_8.setText(_translate("MainWindow", "Doors:"))
                self.label2_13.setText(_translate("MainWindow", " Internal Lights:"))
                self.label2_17.setText(_translate("MainWindow", "  Headlights:"))
                self.label2_22.setText(_translate("MainWindow", "Passenger count:"))
                self.label2_21.setText(_translate("MainWindow", "Crew count:"))
                self.label2_18.setText(_translate("MainWindow", "Current:"))
                self.label2_20.setText(_translate("MainWindow", " \N{DEGREE SIGN}F"))
                self.label2_19.setText(_translate("MainWindow", "Set:"))
                self.rightDoors2.setText(_translate("MainWindow", "Closed"))
                self.tunnelLights2.setText(_translate("MainWindow", "Off"))
                self.internalLights2.setText(_translate("MainWindow", "Off"))
                #car 3 labels
                self.label3_16.setText(_translate("MainWindow", "Temperature:"))
                self.label3_8.setText(_translate("MainWindow", "Doors:"))
                self.label3_13.setText(_translate("MainWindow", " Internal Lights:"))
                self.label3_17.setText(_translate("MainWindow", "  Headlights:"))
                self.label3_22.setText(_translate("MainWindow", "Passenger count:"))
                self.label3_21.setText(_translate("MainWindow", "Crew count:"))
                self.label3_18.setText(_translate("MainWindow", "Current:"))
                self.label3_20.setText(_translate("MainWindow", " \N{DEGREE SIGN}F"))
                self.label3_19.setText(_translate("MainWindow", "Set:"))
                self.rightDoors3.setText(_translate("MainWindow", "Closed"))
                self.tunnelLights3.setText(_translate("MainWindow", "Off"))
                self.internalLights3.setText(_translate("MainWindow", "Off"))
                #car 4 labels
                self.label4_16.setText(_translate("MainWindow", "Temperature:"))
                self.label4_8.setText(_translate("MainWindow", "Doors:"))
                self.label4_13.setText(_translate("MainWindow", " Internal Lights:"))
                self.label4_17.setText(_translate("MainWindow", "  Headlights:"))
                self.label4_22.setText(_translate("MainWindow", "Passenger count:"))
                self.label4_21.setText(_translate("MainWindow", "Crew count:"))
                self.label4_18.setText(_translate("MainWindow", "Current:"))
                self.label4_20.setText(_translate("MainWindow", " \N{DEGREE SIGN}F"))
                self.label4_19.setText(_translate("MainWindow", "Set:"))
                self.rightDoors4.setText(_translate("MainWindow", "Closed"))
                self.tunnelLights4.setText(_translate("MainWindow", "Off"))
                self.internalLights4.setText(_translate("MainWindow", "Off"))
                #car 5 labels
                self.label5_16.setText(_translate("MainWindow", "Temperature:"))
                self.label5_8.setText(_translate("MainWindow", "Doors:"))
                self.label5_13.setText(_translate("MainWindow", " Internal Lights:"))
                self.label5_17.setText(_translate("MainWindow", "  Headlights:"))
                self.label5_22.setText(_translate("MainWindow", "Passenger count:"))
                self.label5_21.setText(_translate("MainWindow", "Crew count:"))
                self.label5_18.setText(_translate("MainWindow", "Current:"))
                self.label5_20.setText(_translate("MainWindow", " \N{DEGREE SIGN}F"))
                self.label5_19.setText(_translate("MainWindow", "Set:"))
                self.rightDoors5.setText(_translate("MainWindow", "Closed"))
                self.tunnelLights5.setText(_translate("MainWindow", "Off"))
                self.internalLights5.setText(_translate("MainWindow", "Off"))

                self.CarInfo.setTabText(self.CarInfo.indexOf(self.Car1), _translate("MainWindow", "Car 1"))
                self.CarInfo.setTabText(self.CarInfo.indexOf(self.Car2), _translate("MainWindow", "Car 2"))
                self.CarInfo.setTabText(self.CarInfo.indexOf(self.Car3), _translate("MainWindow", "Car 3"))
                self.CarInfo.setTabText(self.CarInfo.indexOf(self.Car4), _translate("MainWindow", "Car 4"))
                self.CarInfo.setTabText(self.CarInfo.indexOf(self.Car5), _translate("MainWindow", "Car 5"))
                self.comboBox.setItemText(0, _translate("MainWindow", "Train 1"))
                self.comboBox.setItemText(1, _translate("MainWindow", "Train 2"))
                self.comboBox.setItemText(2, _translate("MainWindow", "Train 3"))
                self.comboBox.setItemText(3, _translate("MainWindow", "Train 4"))
                self.comboBox.setItemText(4, _translate("MainWindow", "Train 5"))
                self.comboBox.setItemText(5, _translate("MainWindow", "Train 6"))
                self.comboBox.setItemText(6, _translate("MainWindow", "Train 7"))
                self.comboBox.setItemText(7, _translate("MainWindow", "Train 8"))
                self.comboBox.setItemText(8, _translate("MainWindow", "Train 9"))
                self.comboBox.setItemText(9, _translate("MainWindow", "Train 10"))
                self.comboBox.setItemText(10, _translate("MainWindow", "Train 11"))
                self.comboBox.setItemText(11, _translate("MainWindow", "Train 12"))
                self.comboBox.setItemText(12, _translate("MainWindow", "Train 13"))
                self.comboBox.setItemText(13, _translate("MainWindow", "Train 14"))
                self.comboBox.setItemText(14, _translate("MainWindow", "Train 15"))
                self.comboBox.setItemText(15, _translate("MainWindow", "Train 16"))

                #display crew count and change temp values when needed
                self.crewCount.display(2)
                self.crewCount2.display(2)
                self.crewCount3.display(2)
                self.crewCount4.display(2)
                self.crewCount5.display(2)
                self.setTemp.valueChanged.connect(lambda: self.changeTemp(1))
                self.setTemp2.valueChanged.connect(lambda: self.changeTemp(2))
                self.setTemp3.valueChanged.connect(lambda: self.changeTemp(3))
                self.setTemp4.valueChanged.connect(lambda: self.changeTemp(4))
                self.setTemp5.valueChanged.connect(lambda: self.changeTemp(5))


                velocityCalc = CalculateVelocity()

                self.engineFailure.clicked.connect(lambda: self.eFail(velocityCalc))
                self.signalFailure.clicked.connect(lambda: self.sFail(velocityCalc))
                self.brakeFailure.clicked.connect(self.bFail)
                self.failureFixed.clicked.connect(lambda: self.main(velocityCalc))
                
                
                
               # self.main(velocityCalc)

        def main(self,velocityCalc):
                
                self.eBrake.clicked.connect(lambda: self.eBrakeToggled(velocityCalc))
                self.passenger = 4
                self.speed_limit = 68
                
                velocityCalc.brakesDone()
                for x in range(10):
                        self.velocity = velocityCalc.calculateVelocity1(self.passenger,self.power,x+10)
                        if self.velocity > self.speed_limit:
                                self.velocity = self.speed_limit
                                velocityCalc.speedLimitHit(self.velocity)
                        self.currSpeed.display(int(self.velocity))
                        self.accelerationLimit.display(float("{:.2f}".format(velocityCalc.getAcc())))
                        self.decelerationLimit.display(0)
                        time.sleep(2)

        def calculateVelocity(self,power):
            self.power = power
                        

        def eBrakeToggled(self,velocityCalc):
                velocityCalc.eBrakePressed()
                self.currSpeed.display(int(velocityCalc.calculateVelocity1(self.passenger,self.power,20)))

        def setTemp1(self,x):
                self.setTemp.setValue(x)
                self.changeTemp(1)

        def getTemp(self):
                self.currTemp.value()

        def changeTemp(self,x):
                if x == 1:
                        self.currTemp.display(self.setTemp.value())
                elif x == 2:
                        self.currTemp2.display(self.setTemp2.value())
                elif x == 3:
                        self.currTemp3.display(self.setTemp3.value())
                elif x == 4:
                        self.currTemp4.display(self.setTemp4.value())
                elif x == 5:     
                        self.currTemp5.display(self.setTemp5.value())

        def eFail(self,velocityCalc):
                if self.engineChoice.currentText() == "None":
                        self.failureOutput.setText("No engine selected")
                else:
                        self.engineFailure.setStyleSheet("background-color: rgb(255, 0, 0);")
                if self.engineChoice.currentText() == "Car 1":
                        self.failureOutput.setText("Engine Failure in Car 1 Initiated")
                elif self.engineChoice.currentText() == "Car 2":
                        self.failureOutput.setText("Engine Failure in Car 2 Initiated")
                elif self.engineChoice.currentText() == "Car 3":
                        self.failureOutput.setText("Engine Failure in Car 3 Initiated")
                elif self.engineChoice.currentText() == "Car 4":
                        self.failureOutput.setText("Engine Failure in Car 4 Initiated")
                elif self.engineChoice.currentText() == "Car 5":
                        self.failureOutput.setText("Engine Failure in Car 5 Initiated")
                elif self.engineChoice.currentText() == "All":
                        self.failureOutput.setText("Engine Failure in all cars Initiated")

                velocityCalc.eBrakePressed()
                velocityCalc.calculateVelocity1(self.passenger,self.power,self.T)
                self.acceleration = velocityCalc.getAcc()
                self.decelerationLimit.display(abs(self.acceleration))
                self.accelerationLimit.display(0)
                
        def sFail(self,velocityCalc):
                self.failureOutput.setText("Signal Pickup Failure Initiated")
                self.signalFailure.setStyleSheet("background-color: rgb(255, 0, 0);")

                velocityCalc.eBrakePressed()
                velocityCalc.calculateVelocity1(self.passenger,self.power,self.T)
                self.acceleration = velocityCalc.getAcc()
                self.decelerationLimit.display(abs(self.acceleration))
                self.accelerationLimit.display(0)

        def bFail(self):
                self.failureOutput.setText("Brake Failure Initiated")
                self.brakeFailure.setStyleSheet("background-color: rgb(255, 0, 0);")

        def fixed(self):
        #sets all failure backgrounds to gray
                self.engineFailure.setStyleSheet("background-color: rgb(223, 223, 223);")
                self.signalFailure.setStyleSheet("background-color: rgb(223, 223, 223);")
                self.brakeFailure.setStyleSheet("background-color: rgb(223, 223, 223);")
                self.failureOutput.setText("No failures initiated")

        #get functions for the train controller
        def getVelocity(self):
                return self.velocity

        def getCommanded(self):
                return self.commanded

        def getAuthority(self):
                return self.authority

        def getBeacon(self):
                return self.beaconText

        def getAcceleration(self):
            return self.acceleration

        def setServiceBrake(self):
            self.service = 1

        def setBeacon(self,a):
            self.beaconText = a


class CalculateVelocity(object):
        prevAcc = 1
        prevVel = 1
        maxAcceleration = 0.5        #mps
        minForce = 40000
        maxForce = 100000
        acceleration = 0
        emergency = 0
        service = 0
        velocity = 0
        maxSpeed = 19.45 #mps
        minSpeed = 0

        def calculateMass(self,passenger):
                corrMass = 40.9 + (passenger+2)*(0.1068)
                corrMass = corrMass * 907.185   #ton to kg conversion
                return corrMass

        def calculateVelocity1(self,passenger,power,T):
                mass = self.calculateMass(passenger)
                if power == 0:
                        self.acceleration = 0
                        self.velocity = self.velocity
                else:
                        force = power / self.prevVel
                        
                        self.acceleration = force / mass
                        if self.emergency == 1:
                                self.acceleration = self.maxAcceleration
                        elif self.service == 1:
                                self.acceleration = self.maxAcceleration
                        elif (self.acceleration > self.maxAcceleration):
                                self.acceleration = self.maxAcceleration

                        self.velocity = self.prevVel + (T/2)*(self.acceleration + self.prevAcc)
                        if self.velocity > self.maxSpeed:
                                self.velocity = self.maxSpeed
                                self.acceleration = 0
                        
                        if self.velocity < self.minSpeed:
                                self.velocity = 0
                                self.acceleration = 0
                                self.brakesDone()

                        

                self.prevAcc = self.acceleration
                self.prevVel = self.velocity
                if (self.velocity == 0):
                        self.prevVel = 0.01
                print(self.velocity)
                return self.mpsTOmph(self.velocity)

        def mphTOmps(self,x):
                return x/2.23694

        def mpsTOmph(self,y):
                return y*2.23694

        def speedLimitHit(self,vel):
                self.prevVelocity = self.mphTOmps(vel)
        
        def getAcc(self):
                return self.acceleration

        def eBrakePressed(self):
                self.maxAcceleration = -2.73
                self.emergency = 1

        def serviceBrake(self):
                self.maxAcceleration = -1.2
                self.service = 1

        def brakesDone(self):
                self.maxAcceleration = 1.12
                self.emergency = 0
                self.service = 0    


if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    MainWindow = QtWidgets.QMainWindow()
    ui = Ui_MainWindow()
    ui.setupUi(MainWindow)
    MainWindow.show()
    sys.exit(app.exec_())